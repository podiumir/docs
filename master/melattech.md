- [مقدمه](#menu)
- [پیش از شروع](#menu)
- [سرویس درخواست بیمه نامه ۵ روزه](#menu)
- [سرویس درخواست بیمه نامه کرونا](#menu)
- [سرویس تایید بیمه نامه](#menu)
- [اطلاعات سقف پوشش بیمه ها](#menu)


## مقدمه
با استفاده از سرویس های زیر امکان خریداری بیمه حوادث و کرونا برای کاربران توسط بیمه ملت فراهم شده است توضیحات هر سرویس در بخش مربوطه به تفصیل شرح داده شده است
<div class="box-end">
</div>

## پیش از شروع
* URL فراخوانی سرویس ها: https://api.pod.ir/srv/sc/nzh/doServiceCall
* تمامی درخواست ها با متد POST ارسال می­شوند.
* Header درخواست:
پارامترهای زیر در Header تمام درخواست ها ثابت است:

|           پارامتر    |    توضیحات                                 |
|----------------------:|---------------------------------------------:|
|    \_token\_    |    API token دریافتی از پنل کسب و کاری    |
|    \_token_issuer\_    |    این پارامتر دارای مقدار ثابت "1" است.    |
|    Content-Type    |    application/x-www-form-urlencoded    |


* بدنه درخواست:
پارامترهای زیر در بدنه تمام درخواست ها ثابت است:

|    پارامتر    |    توضیحات    |
|-------------------:|----------------------------------------------------------------:|
|    scProductId    |    شناسه سرویس در حال استفاده    |
|    scApiKey    |    API Key دریافتی برای سرویس مورد   نظر از پنل کسب و کاری     |

* json Object ها در پارامتری به نام body  ارسال می­شوند.
* ساختار پاسخ دریافتی پس از فراخوانی سرویس به صورت زیر است که پاسخ دریافتی از endpoint  مورد نظر در پارامتر result قرار دارد.

```javascript
{
	"hasError": false/true,
	"messageId": 0,
	"referenceNumber": "",
	"errorCode": 0,
	"count": 0,
	"ott": "",
	"result": {
		"result": "response",
		"header": {},
		"statusCode":
	}
}
```
<div class="box-end">
</div>

## سرویس درخواست بیمه نامه ۵ روزه
این سرویس برای ایجاد بیمه ‌نامه مورد استفاده قرار می‌گیرد
* شناسه سرویس: 44051
* پارامترهای ورودی:
	*  body: یک json object با ساختار و پارامترهای زیر :

| توضیحات      	| نوع    	| پارامتر       	|
|--------------	|--------	|---------------	|
| اطلاعات شخص  	| object 	| InsuranceDate 	|
| کد ملی       	| string 	| NationalCode  	|
| سال تولد     	| string 	| BirthYear     	|
| شماره موبایل 	| string 	| MobileNo      	|

* ‌نمونه json ارسالی:
```javascript
{
	"InsuranceData": {
		"NationalCode": "11111111111",
		"BirthYear": "1371",
		"MobileNo": "0912*******"
	}
}
```

* پاسخ برگشتی: یک json با ساختار و پارامترهای زیر:

|     پارامتر                	|     نوع       	|     توضیحات                  	|
|----------------------------	|---------------	|------------------------------	|
|     AccidentINSResponse    	|     object    	|                              	|
|     AccidentINSResult      	|     object    	|     اطلاعات بیمه نامه        	|
|     NationalCode           	|     int       	|     کد ملی                   	|
|     PolicyNo               	|     int       	|     شماره بیمه نامه          	|
|     MobileNo               	|     int       	|     شماره موبایل             	|
|     StartDate              	|     int       	|     تاریخ شروع بیمه نامه     	|
|     EndDate                	|     int       	|     تاریخ پایان بیمه نامه    	|
|     Insured                	|     string    	|     نام بیمه شده             	|
|     ResultDesc             	|     int       	|     هزینه بیمه نامه          	|

* ‌نمونه پاسخ برگشتی :
```javascript
{
	"AccidentINSResponse": {
		"AccidentINSResult": {
			"PolicyNo": 123456789,
			"StartDate": 13990324,
			"EndDate": 13990329,
			"Insured": "نام بیمه شده",
			"NationalCode": 1111111111,
			"ResultValue": 0,
			"ResultDesc": 17000
		  }
	 }
}
```
<div class="box-end">
</div>

## سرویس درخواست بیمه نامه کرونا
این سرویس برای ایجاد بیمه ‌نامه مورد استفاده قرار می‌گیرد
* شناسه سرویس: 45319
* پارامترهای ورودی:
	*  body: یک json object با ساختار و پارامترهای زیر :

|     پارامتر          	|     نوع       	|     توضیحات         	|
|----------------------	|---------------	|---------------------	|
|     InsuranceData    	|     object    	|     اطلاعات شخص     	|
|     NationalCode     	|     string    	|     کد ملی          	|
|     BirthYear        	|     string    	|     سال تولد        	|
|     MobileNo         	|     string    	|     شماره موبایل    	|

* ‌نمونه json ارسالی:
```javascript
{
	"InsuranceData": {
		"NationalCode": "11111111111",
		"BirthYear": "1371",
		"MobileNo": "0912*******"
	}
}
```

* پاسخ برگشتی: یک json با ساختار و پارامترهای زیر:
*
|     پارامتر                	|     نوع       	|     توضیحات                  	|
|----------------------------	|---------------	|------------------------------	|
|     AccidentINSResponse    	|     object    	|                              	|
|     AccidentINSResult      	|     object    	|     اطلاعات بیمه نامه        	|
|     NationalCode           	|     int       	|     کد ملی                   	|
|     PolicyNo               	|     int       	|     شماره بیمه نامه          	|
|     MobileNo               	|     int       	|     شماره موبایل             	|
|     StartDate              	|     int       	|     تاریخ شروع بیمه نامه     	|
|     EndDate                	|     int       	|     تاریخ پایان بیمه نامه    	|
|     Insured                	|     string    	|     نام بیمه شده             	|
|     ResultDesc             	|     int       	|     هزینه بیمه نامه          	|

* ‌نمونه پاسخ برگشتی :
```javascript
{
	"AccidentINSResponse": {
		"AccidentINSResult": {
			"PolicyNo": 123456789,
			"StartDate": 13990324,
			"EndDate": 13990329,
			"Insured": "نام بیمه شده",
			"NationalCode": 1111111111,
			"ResultValue": 0,
			"ResultDesc": 17000
		}
	}
}
```

<div class="box-end">
</div>

## سرویس تایید بیمه نامه

از این سرویس برای تایید و نهایی کردن بیمه نامه ایجاد شده استفاده می شود.

**نکته**: پس از فراخوانی سرویس درخواست بیمه نامه، 15 دقیقه فرصت دارید تا این سرویس (تایید بیمه نامه) را فراخوانی و بیمه نامه را نهایی کنید.

**نکته: الزاما پس از تایید شدن بیمه نامه اطلاعات بیمه نامه به کاربر اطلاع رسانی شود (پیامک- ایمیل- فایل pdf یا هر متد اطلاع رسانی دیگر)**
* شناسه سرویس: 44713
* پارامترهای ورودی:
	*  body: یک json object با ساختار و پارامترهای زیر :

|     پارامتر     	|     نوع       	|     توضیحات            	|
|-----------------	|---------------	|------------------------	|
|     PolicyNo    	|     string    	|     شماره بیمه نامه    	|

* ‌نمونه درخواست ارسالی:
```javascript
{
	"PolicyNo": "123456789"
}
```

* پاسخ برگشتی: یک json با ساختار و پارامترهای زیر:

|     پارامتر                    	|     نوع        	|     توضیحات                     	|
|--------------------------------	|----------------	|---------------------------------	|
|     AcceptInsuranceResponse    	|     object     	|                                 	|
|     AcceptInsuranceResult      	|     boolean    	|     نتیجه تایید یا عدم تایید    	|

* ‌نمونه پاسخ برگشتی :
```javascript
{
	"AcceptInsuranceResponse": {
		"AcceptInsuranceResult": false/true
}
```

<div class="box-end">
</div>

## اطلاعات سقف پوشش بیمه ها
۱- بیمه حوادث انفرادی: (مبالغ به ریال)

|     مدت بیمه نامه    	|     هزینه    	|     پوشش فوت در اثر حادثه    	|     پوشش نقص عضو (جزئی و کلی) و از کارافتادگی دائم در اثر حادثه    	|     پوشش پزشکی پزشکی در اثر حادثه    	|     غرامت روزانه بستری شدن در مراکز درمانی مجاز در اثر حادثه    	|
|----------------------	|--------------	|------------------------------	|--------------------------------------------------------------------	|--------------------------------------	|-----------------------------------------------------------------	|
|     1-5 روز          	|     17000    	|     200،000،000              	|     200،000،000                                                    	|     20،000،000                       	|     1،000،000                                                   	|

۱- بیمه کرونا: (مبالغ به ریال)

| مدت بیمه نامه 	| هزینه 	| پوشش فوت در اثر حادثه 	| پوشش نقص عضو (جزئی و کلی) و از کارافتادگی دائم در اثر حادثه 	| پوشش پزشکی پزشکی در اثر حادثه 	| غرامت روزانه بستری شدن در مراکز درمانی مجاز در اثر حادثه 	|
|---------------	|-------	|-----------------------	|-------------------------------------------------------------	|-------------------------------	|----------------------------------------------------------	|
| 30 روز        	| 25500 	| 50000000              	| 50000000                                                    	| 5000000                       	| 250000                                                   	|                                      	|                                                                 	|

<div class="box-end">
</div>
