- [پیش از شروع](#menu)
- [اشتراک گذاری فولدر](#menu)
- [اشتراک گذاری فایل ](#menu)
- [کلمه عبور اشتراک فایل](#menu)
- [کلمه عبور اشتراک فولدر](#menu)
- [حذف اشتراک از فایل یا فولدر](#menu)
- [دریافت لیست اشتراک‌گذاری‌های یک فایل](#menu)
- [دریافت لیست اشتراک‌گذاری‌های یک فولدر](#menu)
- [دریافت لیست  فایل‌های به اشتراک گذاشته با کاربر](#menu)
- [ایجاد فضای ابری سازمانی](#menu)
- [تغییر فضای ابری سازمانی](#menu)
- [حذف فضای ابری سازمانی](#menu)
- [اضافه کردن افراد به فضای ابری سازمانی](#menu)
- [حذف دسترسی افراد به فضای سازمانی](#menu)
- [تغییر نوع افراد در فضای سازمانی](#menu)
- [دریافت لیست افراد در فضای سازمانی](#menu)
- [دریافت لیستی از فضاهای سازمانی کاربر](#menu)
- [مشاهده لیست طرح‌ها](#menu)
- [دریافت اطلاعات طرح کاربر](#menu)
- [صدور فاکتور پرداخت](#menu)
  
  
  ## پیش از شروع
* URL فراخوانی سرویس ها: https://api.pod.ir/srv/sc/nzh/doServiceCall
* تمامی درخواست ها با متد POST ارسال می­شوند.
* Header درخواست:
پارامترهای زیر در Header تمام درخواست ها ثابت است:

|           پارامتر    |    توضیحات                                 |
|----------------------:|---------------------------------------------:|
|    \_token\_    |    API token دریافتی از پنل کسب و کاری    |
|    \_token_issuer\_    |    این پارامتر دارای مقدار ثابت "1" است.    |
|    Content-Type    |    application/x-www-form-urlencoded    |

* بدنه درخواست:
پارامترهای زیر در بدنه تمام درخواست ها ثابت است:

|    پارامتر    |    توضیحات    |
|-------------------:|----------------------------------------------------------------:|
|    scProductId    |    شناسه سرویس در حال استفاده    |
|    scApiKey    |    API Key دریافتی برای سرویس مورد   نظر از پنل کسب و کاری     |  

- جهت دریافت apikey کالکشن postman زیر را دریافت کنید. ابتدا میبیاست سرویس **درخواست سرویس** را اجرا کنید وسپس پارامتر id بازگشتی در پاسخ این سرویس را در سرویس **دریافت apikey** وارد و apikey را دریافت کنید. این مقادیر در قسمت examples درخواست های postman مشخص شده اند.  

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[کالکشن postman راهنمای دریافت apikey](https://space.pod.ir/file/B9SAPKV6CHX9MUX6?dl=1)

* json Object ها در پارامتری به نام body  ارسال می­شوند.
* ساختار پاسخ دریافتی پس از فراخوانی سرویس به صورت زیر است که پاسخ دریافتی از endpoint  مورد نظر در پارامتر result قرار دارد.

```javascript
{
  "hasError": false/true,
  "messageId": 0,
  "referenceNumber": "",
  "errorCode": 0,
  "count": 0,
  "ott": "",
  "result": {
    "result": "response",
    "header": {},
    "statusCode":
  }
}
```  

- پارامترهای مورد نیاز جهت ارسال در درخواست، نمونه پاسخ برگشتی و موارد مربوط دیگر به هر سرویس را می توانید در کالکشن Postman زیر ببینید.   

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[کالکشن postman درخواست ها](https://space.pod.ir/file/JISYC86ABWSWZ12Q?dl=1)
<div class="box-end">
</div>  

## اشتراک گذاری فولدر

از این‌ سرویس برای به اشتراک‌گذاری یک‌ فولدر استفاده می‌شود.

توجه: در اشتراک‌گذاری با سطح دسترسی view کاربر قادر به دانلود، کپی فایل‌ها و فولدر‌ها و اشتراک‌گذاری دوباره با سطح دسترسی view است اما در سطح دسترسی edit علاوه بر موارد ذکر شده امکان تغییر نام نیز وجود دارد.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:


|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|نام مستعار نامعتبر|INVALID_NICKNAME|6|
|تاریخ نامعتبر|INVALID_DATE|10|
|توکن نامعتبر|INVALID-TOKEN|21|
|مشکل در ارتباط با SSO|SSO_COMMUNICATIOAN|33|
|کاربر یافت نشد|USER_NOT_REGISTERED|34|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|کاربر تکراری|DUPLICATE_CUSTOMER|44|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فرمت تاریخ نامعتبر|INVALID_DATE_FORMAT|103|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|این فولدر قبلا با همین فرد به اشتراک گذاشته شده‌است|FOLDER_SHARE_BEFORE|204|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## اشتراک گذاری فایل

از این‌ سرویس برای به اشتراک‌گذاری یک‌ فایل استفاده می‌شود.

توجه: در اشتراک‌گذاری با سطح دسترسی view کاربر قادر به دانلود، کپی فایل‌ها و فولدر‌ها و اشتراک‌گذاری دوباره با سطح دسترسی view است اما در سطح دسترسی edit علاوه بر موارد ذکر شده امکان تغییر نام نیز وجود دارد.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:


|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|تاریخ نامعتبر|INVALID_DATE|10|
|توکن نامعتبر|INVALID-TOKEN|21|
|مشکل در ارتباط با SSO|SSO_COMMUNICATIOAN|33|
|کاربر یافت نشد|USER_NOT_REGISTERED|34|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|موردی یافت نشد|OBJECT_NOT_FOUND|78|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فرمت تاریخ نامعتبر|INVALID_DATE_FORMAT|103|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|این فولدر قبلا با همین فرد به اشتراک گذاشته شده‌است|FOLDER_SHARE_BEFORE|204|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## کلمه عبور اشتراک فایل

از این‌ سرویس برای تعریف یا تغییر کلمه عبور اشتراک گذاری عمومی استفاده می‌شود.

توجه کنید که باید قبلا فایل مربوطه را به صورت عمومی به اشتراک گذاشته باشید.

خطاهایی که ممکن است در کار با این دو سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|



## کلمه عبور اشتراک فولدر

از این‌ سرویس برای تعریف یا تغییر کلمه عبور اشتراک گذاری عمومی برای فولدر استفاده می‌شود.

توجه کنید که باید قبلا فولدر مربوطه را به صورت عمومی به اشتراک گذاشته باشید.

خطاهایی که ممکن است در کار با این دو سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## حذف اشتراک از فایل یا فولدر

از این‌ سرویس برای حذف اشتراک از فايل يا فولدر استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|موردی یافت نشد|OBJECT_NOT_FOUND|78|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## دریافت لیست اشتراک‌گذاری‌های یک فایل

از این‌ سرویس برای دريافت ليست اشتراک‌گذاري‌هاي يک فايل استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|

## دریافت لیست اشتراک‌گذاری‌های یک فولدر

از این‌ سرویس برای دريافت ليست اشتراک‌گذاري‌هاي يک فولدر استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## دریافت لیست فایلهای به اشتراک گذاشته با کاربر

از این‌ سرویس برای دريافت ليست فايل‌هاي به اشتراک گذاشته با کاربر استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|خطای ناشناخته|UNKNOWN_ERROR|999|

## ایجاد فضای ابری سازمانی

از این‌ سرویس برای ایجاد یک فضای ابری سازمانی استفاده می‌شود.

در پاسخ دریافتی قسمت "organization" کد هش فضای سازمانی ایجاد شده است.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|اتمام فضای ذخیره سازی|NO_SPACE_FOR_SAVING|206|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## تغییر فضای ابری سازمانی

از این‌ سرویس برای تغییر مشخصات فضای سازمانی موجود استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|خطای ناشناخته|UNKNOWN_ERROR|999|

## حذف فضای ابری سازمانی

از این‌ سرویس برای حذف فضای ابری سازمانی استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## اضافه کردن افراد به فضای ابری سازمانی

از این‌ سرویس برای اضافه‌کردن افراد به فضای ابری سازمانی موجود استفاده می‌شود.

توجه: سطح دسترسی ها به شرح زیر است:

GUEST: فقط می تواند فایل ها و فولدرها را مشاهده کند، آن ها را کپی کرده و یا دانلود کند. امکان هیچگونه تغییری در فایل ها را ندارد.

MAINTAINER: می تواند فایل ها را جابجا کند، تغییر نام دهد، حذف کند و...؛ ولی امکان افزودن یا حذف دسترسی به افراد سازمان را ندارد.

OWNER: مالک سازمان ایجاد شده است و به تمامی عمیات قابل انجام دسترسی دارد.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|نام مستعار نامعتبر|INVALID_NICKNAME|6|
|توکن نامعتبر|INVALID-TOKEN|21|
|مشکل در ارتباط با SSO|SSO_COMMUNICATIOAN|33|
|کاربر یافت نشد|USER_NOT_REGISTERED|34|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|کاربر تکراری|DUPLICATE_CUSTOMER|44|
|موردی یافت نشد|OBJECT_NOT_FOUND|78|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|

  
  

## حذف دسترسی افراد به فضای سازمانی

از این‌ سرویس برای حذف دسترسی افراد به فضای سازمانی تعریف ‌شده استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|نام مستعار نامعتبر|INVALID_NICKNAME|6|
|توکن نامعتبر|INVALID-TOKEN|21|
|مشکل در ارتباط با SSO|SSO_COMMUNICATIOAN|33|
|کاربر یافت نشد|USER_NOT_REGISTERED|34|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|کاربر تکراری|DUPLICATE_CUSTOMER|44|
|موردی یافت نشد|OBJECT_NOT_FOUND|78|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|



  
## تغییر نوع افراد در فضای سازمانی

از این‌ سرویس برای تغییر نوع افراد در فضای سازمانی موجود استفاده می‌شود.

توجه: سطح دسترسی ها به شرح زیر است:

GUEST: فقط می تواند فایل ها و فولدرها را مشاهده کند، آن ها را کپی کرده و یا دانلود کند. امکان هیچگونه تغییری در فایل ها را ندارد.

MAINTAINER: می تواند فایل ها را جابجا کند، تغییر نام دهد، حذف کند و...؛ ولی امکان افزودن یا حذف دسترسی به افراد سازمان را ندارد.

OWNER: مالک سازمان ایجاد شده است و به تمامی عمیات قابل انجام دسترسی دارد.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|نام مستعار نامعتبر|INVALID_NICKNAME|6|
|توکن نامعتبر|INVALID-TOKEN|21|
|مشکل در ارتباط با SSO|SSO_COMMUNICATIOAN|33|
|کاربر یافت نشد|USER_NOT_REGISTERED|34|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|کاربر تکراری|DUPLICATE_CUSTOMER|44|
|موردی یافت نشد|OBJECT_NOT_FOUND|78|
|درخواست نامعتبر|INVALID_REQUEST|101|
|فایل پیدا نشد|FILE_NOT_FOUND|202|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## دریافت لیست افراد در فضای سازمانی

از این‌ سرویس برای دریافت لیست افراد تعریف‌شده در فضای سازمانی موجود استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## دریافت لیستی از فضاهای سازمانی کاربر

از این‌ سرویس برای دریافت لیستی از فضاهای سازمانی کاربر که عضو آن است استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|عدم دسترسی|PERMISSION_DENIED|4|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## مشاهده لیست طرح‌ها

از این سرویس برای مشاهده لیست طرح‌های موجود استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|خطای ناشناخته|UNKNOWN_ERROR|999|


## دریافت اطلاعات طرح کاربر

از این سرویس برای دریافت اطلاعات طرح کاربر(طرحی که هم اکنون در حال استفاده از آن است) استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|خطای ناشناخته|UNKNOWN_ERROR|999|



## صدور فاکتور پرداخت

از این سرویس برای صدور فاکتور پرداخت و دریافت لینک پرداخت توسط کاربر استفاده می‌شود.

خطاهایی که ممکن است در کار با این سرویس پیش‌آید:

|توضیحات|پارامتر|کد
|----|-----|----|
|توکن نامعتبر|INVALID-TOKEN|21|
|توکن احراز نشده|TOKEN_NOT_AUTHORIZED|40|
|درخواست نامعتبر|INVALID_REQUEST|101|
|خطای ناشناخته|UNKNOWN_ERROR|999|
