- [مقدمه](#menu)
- [سرویس پایا تکی و گروهی](#menu)
- [دریافت صورتحساب سپرده](#menu)
- [دریافت موجودی سپرده](#menu)
- [انتقال وجه داخلی](#menu)
- [دریافت وضعیت انتقال وجه](#menu)
- [پرداخت قبض از طریق سپرده](#menu)
- [لینک‌های مرتبط](#menu)
 
## مقدمه
**تمام امکانات سرویس‌های بانکی در پکیج Banking قرار دارد.برای اطلاعات بیشتر به [پکیج سرویس‌ها](/documents/packages/) مراجعه کنید**

با استفاده از سرویس های بانکی می توانید عملیاتی مانند، دریافت موجود، کارت به کارت، انتقال وجه داخلی ، پایا گروهی و ... را به راحتی انجام دهید.

**نکته:** برای استفاده از این سرویس ها نیاز است، ابتدا با استفاده از این ابزار https://accounts.pod.ir/secTools.html برای خود یک کلید عمومی (Public Key) و کلید خصوصی (Private Key) با الگوریتم RSA-SHA1 ایجاد کنید. کلید خصوصی را نزد خود نگه داشته و کلید عمومی را با مراجعه حضوری به یکی از شعب بانک پاسارگاد جهت دریافت نام کاربری (username) وب سرویس و تعیین سقف مالی هر سرویس اعلام نمایید. برای استفاده از سرویس‌های بانکی نیاز به احراز هویت توسط شعبه بانک پاسارگاد است؛ برای این منظو ابتدا یکی از فرم‌های زیررا دانلود نموده و جهت تکمیل و احراز هویت به یکی از شعب بانک پاسارگاد مراجعه نمایید.

[دانلود فرم درخواست برای شخص حقیقی](https://raw.githubusercontent.com/podiumir/docs/master/master/forms/request-bank-service-actual.pdf)

[دانلود فرم درخواست برای شخص حقوقی](https://raw.githubusercontent.com/podiumir/docs/master/master/forms/request-bank-service-legal.pdf)




<div class="box-end">
</div>

## سرویس پایا تکی و گروهی
با استفاده از این سرویس می توانید عملیات پایا تکی و یا گروهی را انجام دهید


**ورودی:**

| نام فیلد |       نوع       |       عنوان                           |توضیحات  | اجباری؟  |
| --------- | -----------------  |-----------------  |-----------------  |-----------------  |
|    UserName     |    string  |   نام کاربری	   |   نام کاربری از طریق بانک در اختیار شما قرار می گیرد   |    *    |
|    SourceDepositNumber     |    string  |   	شماره سپرده جهت برداشت	   |      |     *   |
|    TransferMoneyBillNumber     |    string  |   	   |    در صورتیکه سپرده مبدا دارای شناسه قبض است باید این فیلد ارسال شود.  |       |
|CentralBankTransferDetailType|string|بابت|(عددی بین 1 تا 19) علت انتقال وجه|* |
|    FileUniqueIdentifier     |    string  |   	   |   شناسه یکتای فایل که حتما باید با ACH شروع شود و از کاراکترهای حرفی و عددی تشکیل شده است.   |     *   |
|    BatchPayaItemInfos.Amount	     |    string  |   		مبلغ تراکنش	   |   	  |     *   |
|    BatchPayaItemInfos.BeneficiaryFullName	     |    string  |   		نام و نام خانوادگی ذینفع	   |   	کاراکترهای فارسی ارسال شود   |     *   |
|    BatchPayaItemInfos.Description	     |    string  |   		توضیحات	   |   	کاراکترهای فارسی ارسال شود   |     *   |
|    BatchPayaItemInfos.DestShebaNumber	     |    string  |   			شماره شبای مقصد	   |      |     *   |
|    BatchPayaItemInfos.BillNumber     |    string  |   		شناسه واریز	   |      |     *   |
|    privateKey     |    string  |   کلید خصوصی   |    در صورتی که این فیلد فرستاده شود مقدار کلید خصوصی داده شده، تنها در درخواست فعلی   جایگزین کلید داده شده در سازنده خواهد شد. <br/>رشته pem کلید خصوصی و یا مسیر فایل pem کلید خصوصی را در این پارامتر میتوان ارسال   کرد   |        |
|     scVoucherHash    |        Array<string>                 |  کدهای تخفیف	                     |                       |        |
|     scApiKey    |               string         |              API KEY سرویس کال	         |                       |    *    |
|     token    |                  string        |             	توکن احراز هویت          |           در صورتی که این فیلد داده شده باشد مقدار توکن داده شده، تنها در درخواست فعلی، جایگزین توکن داده شده در سازنده خواهد شد           |        |

**مقایر  فیلد بابت**  

|عنوان بابت|انواع بابت در بانک مرکزی| کد بابت جهت ارسال در سرویس|
|-------|-----------|--------|
| واریز حقوق | POSA| 1|
|امور بیمه خدمات|IOSP|2|
|امور درمانی|HIPA|3|
|امور سرمایه‌گذاری و بورس|ISAP|4|
|امور ارزی|FXAP|5|
|پرداخت قبوض و تادیه دیون|DRPA|6|
|امور بازنشستگی|RTAP|7|
|معاملات اموال منقول|MPTP|8|
|معاملات اموال غیرمنقول|IMPT|9|
|مدیریت نقدینگی|LMAP|10|
|عوارض گمرکی|CDAP|11|
|تسویه مالیاتی|TCAP|12|
|سایر خدمات دولتی|GEAC|13|
|بازپرداخت تسهیلات|LRPA|14|
|تودیع وثیقه|CCPA|15|
|هزینه عمومی و امور روزمره|GPAC|16|
|کمک‌های خیریه|CPAC|17|
|خرید کالا|GPPC|18|
|خرید خدمات|SPAC|19|

**خروجی:**

آرایه

**نمونه خروجی:**

```javascript
[
  "hasError" =>  false,
  "messageId" =>  0,
  "referenceNumber" =>  "799331802",
  "errorCode" =>  0,
  "count" =>  0,
  "ott" =>  "bbd26c9fa4ecd458",
  "result" =>  [
    "result" =>  [
      "IsSuccess" =>  true,
      "Message" =>  "عملیات پایای گروهی با موفقیت ثبت شد.",
      "Data" =>  [
        [
          "ReferenceNumber" =>  "9809270572440000",
          "DestinationBankName" =>  "پاسارگاد",
          "State" =>  "ثبت و واریز شده",
          "BatchNumber" =>  935246539000,
          "BatchTransferId" =>  249000,
          "Amount" =>  10000,
          "BeneficiaryFullName" =>  "نام و نام خانوادگي",
          "Description" =>  "توضيحات",
          "DestShebaNumber" =>  "IR000000000000000000000",
          "BillNumber" =>  "548000",
          "InquiryName" =>  null
        ],
        [
          "ReferenceNumber" =>  "9809270572440000",
          "DestinationBankName" =>  "پاسارگاد",
          "State" =>  "ثبت و واریز شده",
          "BatchNumber" =>  935246500000,
          "BatchTransferId" =>  249000,
          "Amount" =>  10000,
          "BeneficiaryFullName" =>  "نام و نام خانوادگي",
          "Description" =>  "توضيحات",
          "DestShebaNumber" =>  "IR000000000000000000000000",
          "BillNumber" =>  "548571",
          "InquiryName" =>  null
        ]
      ],
      "MessageCode" =>  0
    ],
    "header" =>  [
      "Transfer-Encoding" =>  "chunked",
      "Keep-Alive" =>  "timeout=65",
      "AR-PoweredBy" =>  "Arvan Cloud (arvancloud.com)",
      "AR-ATIME" =>  "3.992",
      "Server" =>  "ArvanCloud",
      "X-Content-Type-Options" =>  "nosniff",
      "Connection" =>  "keep-alive",
      "Date" =>  "Wed, 18 Dec 2019 09 => 25 => 49 GMT",
      "X-Frame-Options" =>  "SAMEORIGIN",
      "ar-sid" =>  "2081",
      "Strict-Transport-Security" =>  "max-age=31536000; includeSubDomains",
      "AR-Request-ID" =>  "7aa4e96ef8ff1ad37df88b8404a08bf1",
      "Cache-Control" =>  "private, max-age=0",
      "Vary" =>  "Accept-Encoding",
      "Content-Type" =>  "text/xml; charset=utf-8"
    ],
    "statusCode" =>  200
  ]
]
```

**سرویس‌ها:**

<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
             var output = new ResultSrv<ServiceCallResultSrv<BankingSrv<List<CoreBatchTransferPayaSrv>>>>();
var getDepositInvoiceVo = PayaServiceVo.ConcreteBuilder
                    .SetServiceCallParameters(internalServiceCallVo)
                    .SetUserName("{Put your UserName}")
                    .SetPrivateKey("{Put your XML PrivateKey}")
                    .SetSourceDepositNumber("{Put your SourceDepositNumber}")
                    .SetBatchPayaItemInfos(new List<BatchPayaItemInfoVo>
                    {
                         BatchPayaItemInfoVo.ConcreteBuilder.SetBillNumber("{Put your BillNumber}").SetAmount(Put your 
                         Amount).SetBeneficiaryFullName("{BeneficiaryFullName}").SetDescription(" 
                         {Description}").SetDestShebaNumber("{DestShebaNumber}").Build(),

                         BatchPayaItemInfoVo.ConcreteBuilder.SetBillNumber("{Put your BillNumber}").SetAmount(Put your 
                         Amount).SetBeneficiaryFullName("{BeneficiaryFullName}").SetDescription(" 
                         {Description}").SetDestShebaNumber("{DestShebaNumber}").Build()
                    })
                    .SetFileUniqueIdentifier("{Put your FileUniqueIdentifier}")
                    //.SetTransferMoneyBillNumber("{Put your TransferMoneyBillNumber}")
                    .Build();
BankingService.PayaService(getDepositInvoiceVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```

# [Java](#tab/java)

``` java
  BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                .setServerType(Enum_Server_type.PRODUCTION)
                .setScApiKey(API_KEY)
//                .setScVoucherHash(scVoucherHashs)
                .build();

        PodBanking podBanking = new PodBanking();
        SignatureInfo signatureInfo = new SignatureInfo();
        BatchPayaItemInfoContents batchPayaItemInfoContents = new BatchPayaItemInfoContents();
        batchPayaItemInfoContents.setAmount("100");
        batchPayaItemInfoContents.setBeneficiaryFullName("رضا زارع خواجه");
        batchPayaItemInfoContents.setDescription("بانک");
        batchPayaItemInfoContents.setDestShebaNumber("IR930570100480014027212101");
        batchPayaItemInfoContents.setBillNumber("1345");
        List<BatchPayaItemInfoContents> batchPayaItemInfoContentsList = new ArrayList<>();
      batchPayaItemInfoContentsList.add(batchPayaItemInfoContents);
        signatureInfo.setPrivateKey("");
        try {
            PayaSeriviceVo payaSeriviceVo = new PayaSeriviceVo.Builder(baseInfoVo)
                    .setUserName("")
                    .setSourceDepositNumber("")
                    .setFileUniqueIdentifier("")
                    .setBatchPayaItemInfos(batchPayaItemInfoContentsList)
                    .setSignature(signatureInfo)
                    .build();
            podBanking.payaService(payaSeriviceVo, new OnGetResponseListener<PayaSeriviceSrv>() {
                @Override
                public void onResponse(ResultVo<PayaSeriviceSrv> result) {

                    System.out.println(result.getResult().getResult());
                }

                @Override
                public void onFailed(PodException e) {
                    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
                }
            });
        } catch (PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    }

```

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============== Required Parameters  ====================
            'UserName' => '{Put User Name}',
            'SourceDepositNumber' => '{Put Source Deposit Number}',
            'FileUniqueIdentifier' => '{Put File Unique Identifier}',
            'BatchPayaItemInfos' => [
                [
                    "Amount" => {Put Amount},
                    "BeneficiaryFullName" => "{Put Full Name}",
                    "Description" => "{Put Description},
                    "DestShebaNumber" => "{Put Destination Sheba Number}",
                    "BillNumber" => "1972"
                ],
               ...
            ],
            ## ============== Optional Parameters  ====================
            'privateKey'        => $privateKey,
            'TransferMoneyBillNumber'        => '{Put Transfer Money Bill Number}',
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'          => '{Put Service Call Api Key}',
    ];
    try {
        $result = $BankingService->payaService($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```

# [Nodejs](#tab/nodejs)

``` javascript
let payaServiceData = {
      // ------ REQUIRED ------
      UserName: 'USERNAME',
      SourceDepositNumber: '0000.000.00000000.0',
      TransferMoneyBillNumber: 'BILL NUMBER',
      FileUniqueIdentifier: 'ACH15ASII8d5WP5U6800',
      BatchPayaItemInfos: [{
        // ------ REQUIRED ------
        Amount: 10000,
        BeneficiaryFullName: 'نام و نام خانوادگی',
        Description: 'توضیحات',
        DestShebaNumber: 'IR0000000000000000000000',
        BillNumber: '548571'
      },
      {
        // ------ REQUIRED ------
        Amount: 10000,
        BeneficiaryFullName: 'نام و نام خانوادگی',
        Description: 'توضیحات',
        DestShebaNumber: 'IR0000000000000000000000',
        BillNumber: '548571'
      }],
      scApiKey: scApiKey,

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      privateKey: privateKey
      // privateKeyAddress: privateKeyAddress

      // ------ OPTIONAL ------
      // scVoucherHash: ['HASH#1', 'HASH#2']

      // ------ OPTIONAL (JUST CHANGE THE CURRENT REQUEST) ------
      // token: 'TOKEN'
      // tokenIssuer: 0 | 1
    };
    podBanking.payaService(payaServiceData)
      .then(function (result) {
        console.log(JSON.stringify(result, null, 2));
      })
      .catch(function (error) {
        console.log(JSON.stringify(error, null, 2));
      });

```

<div class="tab-end">
</div>




<div class="box-end">
</div>

## دریافت صورتحساب سپرده
با استفاده از این سرویس می توانید گزارشی از تراکنش های سپرده خود را دریافت کنید.


**ورودی:**

| نام فیلد |       نوع       |       عنوان                           |توضیحات  | اجباری؟  |
| --------- | -----------------  |-----------------  |-----------------  |-----------------  |
|    UserName     |    string  |   نام کاربری	   |   نام کاربری از طریق بانک در اختیار شما قرار می گیرد   |    *    |
|    StartDate     |    Date  |   		تاریخ شروع	   |      |     *   |
|    EndDate     |    Date  |   		تاریخ پایان	   |      |     *   |
|    DepositNumber     |    string  |   			شماره سپرده	   |   یکی از موارد شماره سپرده یا شبا اجباری است   |       |
|    Sheba     |    string  |   		شماره شبا	   |   یکی از موارد شماره سپرده یا شبا اجباری است   |        |
|    Count     |    integer  |   		تعداد	   |      |        |
|    FirstIndex     |    integer  |   		شماره اولین خروجی	   |      |        |
|    privateKey     |    string  |   کلید خصوصی   |    در صورتی که این فیلد فرستاده شود مقدار کلید خصوصی داده شده، تنها در درخواست فعلی   جایگزین کلید داده شده در سازنده خواهد شد. <br/>رشته pem کلید خصوصی و یا مسیر فایل pem کلید خصوصی را در این پارامتر میتوان ارسال   کرد   |        |
|     scVoucherHash    |        Array<string>                 |  کدهای تخفیف	                     |                       |        |
|     scApiKey    |               string         |              API KEY سرویس کال	         |                       |    *    |
|     token    |                  string        |             	توکن احراز هویت          |           در صورتی که این فیلد داده شده باشد مقدار توکن داده شده، تنها در درخواست فعلی، جایگزین توکن داده شده در سازنده خواهد شد           |        |

**خروجی:**

آرایه


**نمونه خروجی:**

```javascript
[
  "hasError" =>  false,
  "messageId" =>  0,
  "referenceNumber" =>  "799451558",
  "errorCode" =>  0,
  "count" =>  0,
  "ott" =>  "b723e3ccc077aed2",
  "result" =>  [
    "result" =>  [
      "IsSuccess" =>  true,
      "Message" =>  "عملیات مورد نظر با موفقیت انجام شد.",
      "Data" =>  [
        [
          "TransactionDate" =>  "1398/09/27 - 14 => 04 => 08.7788430",
          "DeptorAmount" =>  10,
          "CreditorAmount" =>  0,
          "Description" =>  "انتقال وجه به سپرده 0000.0000.00000002.0  - به نام - تست_سامانه وب سرویس",
          "DocNumber" =>  "1-98-1001-IRR-00000000",
          "ChqNumber" =>  "",
          "Amount" =>  8465710,
          "PaymentId" =>  "100",
          "BranchCode" =>  "1",
          "BranchName" =>  "ستاد",
          "TransactionCode" =>  "10.110.0.76 => 3002$70157_1576000000452_99990015_255.255.255.255_997",
          "TransactionSideLastName" =>  "",
          "TransactionSideFirstName" =>  "",
          "TransactionSideDestDepositNum" =>  "",
          "TransactionSideSrcDepositNum" =>  ""
        },
        [
          "TransactionDate" =>  "1398/09/27 - 12 => 55 => 39.2082690",
          "DeptorAmount" =>  20000,
          "CreditorAmount" =>  0,
          "Description" =>  "ثبت گروهی پایا  با شناسه فایل ACH15ASII8d5WP5U6800 و شماره پیگیری های 9809200000040918, 9809270000000919- انتقالی_ثبت گروهي پايا در شعبه بانکداري مدرن - وب سرويس",
          "DocNumber" =>  "1-98-1001-IRR-615990000",
          "ChqNumber" =>  "",
          "Amount" =>  8465720,
          "PaymentId" =>  "1",
          "BranchCode" =>  "1",
          "BranchName" =>  "ستاد",
          "TransactionCode" =>  "10.110.0.76 => 3002$63634_1576000000068_99990015_255.255.255.255_997",
          "TransactionSideLastName" =>  "",
          "TransactionSideFirstName" =>  "",
          "TransactionSideDestDepositNum" =>  "",
          "TransactionSideSrcDepositNum" =>  ""
        }
      ],
      "MessageCode" =>  0
    },
    "header" =>  [
      "Transfer-Encoding" =>  "chunked",
      "Keep-Alive" =>  "timeout=65",
      "AR-PoweredBy" =>  "Arvan Cloud (arvancloud.com)",
      "AR-ATIME" =>  "1.047",
      "Server" =>  "ArvanCloud",
      "X-Content-Type-Options" =>  "nosniff",
      "Connection" =>  "keep-alive",
      "Date" =>  "Wed, 18 Dec 2019 11 => 19 => 50 GMT",
      "X-Frame-Options" =>  "SAMEORIGIN",
      "ar-sid" =>  "2081",
      "Strict-Transport-Security" =>  "max-age=31536000; includeSubDomains",
      "AR-Request-ID" =>  "c843a9ebb57cbc8f4ce3cb20e8b68022",
      "Cache-Control" =>  "private, max-age=0",
      "Vary" =>  "Accept-Encoding",
      "Content-Type" =>  "text/xml; charset=utf-8"
    },
    "statusCode" =>  200
  }
}
```

**سرویس‌ها:**


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
             var output = new ResultSrv<ServiceCallResultSrv<BankingSrv>>();
var getDepositInvoiceVo = GetDepositInvoiceVo.ConcreteBuilder
                    .SetServiceCallParameters(internalServiceCallVo)
                    .SetUserName("{Put your UserName}")
                    .SetPrivateKey("{Put your XML PrivateKey}")
                    .SetDepositNumber("{Put your DepositNumber}")
                    .SetStartDate({Put your StartDate})
                    .SetEndDate({Put your EndDate})
                    .SetFirstIndex({Put your FirstIndex})
                    .SetCount({Put your Count})
                    //.SetSheba("{Put your Sheba}")
                    .Build();
BankingService.GetDepositInvoice(getDepositInvoiceVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```

# [Java](#tab/java)

``` java
 BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                .setServerType(Enum_Server_type.PRODUCTION)
                .setScApiKey(API_KEY)
//                .setScVoucherHash(scVoucherHashs)
                .build();

        PodBanking podBanking = new PodBanking();
        SignatureInfo signatureInfo = new SignatureInfo();
        signatureInfo.setPrivateKey("");
        try {
            GetDepositInvoiceVo getDepositInvoiceVo = new GetDepositInvoiceVo.Builder(baseInfoVo)
                    .setUserName("")
                    .setCount()
                    .setFirstIndex()
                    .setDepositNumber("")
                    .setSignatureInfo(signatureInfo)
                    .build();
            podBanking.getDepositInvoice(getDepositInvoiceVo, new OnGetResponseListener<GetDepositInvoiceSrv>() {
                @Override
                public void onResponse(ResultVo<GetDepositInvoiceSrv> result) {

                    System.out.println(result.getResult().getResult().getData().size());

                }

                @Override
                public void onFailed(PodException e) {
                    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
                }
            });
        } catch (PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }

```

# [PHP](#tab/php)

``` php
$param =
        [
        ## ============== Required Parameters  ====================
            'UserName' => '{Put User Name}',
            "DepositNumber" => '{Put Deposit Number}',
            'Sheba' => '{Put Sheba Number}',
            'StartDate' => '{Put Start Date}',
            'EndDate' =>  '{Put End Date}', 
        ## ============== Optional Parameters  ====================
            "FirstIndex" => {Put First Index},
            "Count" => {Put Count},
            'privateKey' => $privateKey,
            'scVoucherHash' => ['{Put Service Call Voucher Hashes}'],
            'scApiKey' => '{Put Service Call Api Key}',
    ];
    try {
        $result = $BankingService->getDepositInvoice($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```

# [Nodejs](#tab/nodejs)

``` javascript
let getDepositInvoiceData = {
      // ------ REQUIRED ------
      UserName: 'USERNAME',
      StartDate: 'Date',
      EndDate: 'Date',
      scApiKey: 'API TOKEN',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      DepositNumber: '0000.000.00000000.0',
      // Sheba: 'IR000000000000000000000000'

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      privateKey: privateKey
      // privateKeyAddress: privateKeyAddress

      // ------ OPTIONAL ------
      // Count: 0,
      // FirstIndex: 0,
      // scVoucherHash: ['HASH#1', 'HASH#2']

      // ------ OPTIONAL (JUST CHANGE THE CURRENT REQUEST) ------
      // token: 'TOKEN'
      // tokenIssuer: 0 | 1
    };
    podBanking.getDepositInvoice(getDepositInvoiceData)
      .then(function (result) {
        console.log(JSON.stringify(result, null, 2));
      })
      .catch(function (error) {
        console.log(JSON.stringify(error, null, 2));
      });

```

<div class="tab-end">
</div>

<div class="box-end">
</div>

## دریافت موجودی سپرده
با استفاده از این سرویس می توانید آخرین موجودی سپرده خود را دریافت کنید.


**ورودی:**

| نام فیلد |       نوع       |       عنوان                           |توضیحات  | اجباری؟  |
| --------- | -----------------  |-----------------  |-----------------  |-----------------  |
|    UserName     |    string  |   نام کاربری	   |   نام کاربری از طریق بانک در اختیار شما قرار می گیرد   |    *    |
|    DepositNumber     |    string  |   			شماره سپرده	   |   یکی از موارد شماره سپرده یا شبا اجباری است   |       |
|    Sheba     |    string  |   		شماره شبا	   |   یکی از موارد شماره سپرده یا شبا اجباری است   |        |
|    privateKey     |    string  |   کلید خصوصی   |    در صورتی که این فیلد فرستاده شود مقدار کلید خصوصی داده شده، تنها در درخواست فعلی   جایگزین کلید داده شده در سازنده خواهد شد. <br/>رشته pem کلید خصوصی و یا مسیر فایل pem کلید خصوصی را در این پارامتر میتوان ارسال   کرد   |        |
|     scVoucherHash    |        Array<string>                 |  کدهای تخفیف	                     |                       |        |
|     scApiKey    |               string         |              API KEY سرویس کال	         |                       |    *    |
|     token    |                  string        |             	توکن احراز هویت          |           در صورتی که این فیلد داده شده باشد مقدار توکن داده شده، تنها در درخواست فعلی، جایگزین توکن داده شده در سازنده خواهد شد           |        |

**خروجی:**

آرایه


**نمونه خروجی:**

```javascript
[
  "hasError" => false,
  "messageId" => 0,
  "referenceNumber" => "799468105",
  "errorCode" => 0,
  "count" => 0,
  "ott" => "414aebbc9513d2ca",
  "result" => [
    "result" => [
      "IsSuccess" => true,
      "Message" => "",
      "Data" => [
        "DepositNumber" => "1001.000.00000.2",
        "Amounts" => [
          [
            "Amount" => 45965710,
            "CurrencySwiftCode" => "IRR",
            "CurrencyISOCode" => 0,
            "CurrencyName" => "ريال"
          ]
        ],
        "WithdrawableAmounts" => [
          [
            "Amount" => 8465710,
            "CurrencySwiftCode" => "IRR",
            "CurrencyISOCode" => 0,
            "CurrencyName" => "ريال"
          ]
        ]
      ],
      "MessageCode" => 0
    ],
    "header" => [
      "Transfer-Encoding" => "chunked",
      "Keep-Alive" => "timeout=65",
      "AR-PoweredBy" => "Arvan Cloud (arvancloud.com)",
      "AR-ATIME" => "0.793",
      "Server" => "ArvanCloud",
      "X-Content-Type-Options" => "nosniff",
      "Connection" => "keep-alive",
      "Date" => "Wed, 18 Dec 2019 11 =>37 =>11 GMT",
      "X-Frame-Options" => "SAMEORIGIN",
      "ar-sid" => "2081",
      "Strict-Transport-Security" => "max-age=31536000; includeSubDomains",
      "AR-Request-ID" => "3232daa198b0008535265b6cbda468df",
      "Cache-Control" => "private, max-age=0",
      "Vary" => "Accept-Encoding",
      "Content-Type" => "text/xml; charset=utf-8"
    ],
    "statusCode" => 200
  ]
]
```

**سرویس‌ها:**


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<ServiceCallResultSrv<BankingSrv<GetDepositBalanceSrv>>>();
var getDepositInvoiceVo = GetDepositBalanceVo.ConcreteBuilder
                    .SetServiceCallParameters(internalServiceCallVo)
                    .SetUserName("{Put your UserName}")
                    .SetPrivateKey("{Put your XML PrivateKey}")
                    //.SetSheba("{Put your Sheba}")
                    //.SetDepositNumber("{Put your DepositNumber}")
                    .Build();
BankingService.GetDepositBalance(getDepositInvoiceVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```

# [Java](#tab/java)

``` java
 BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                .setServerType(Enum_Server_type.PRODUCTION)
                .setScApiKey(API_KEY)
//                .setScVoucherHash(scVoucherHashs)
                .build();

        PodBanking podBanking = new PodBanking();
        SignatureInfo signatureInfo = new SignatureInfo();
        signatureInfo.setPrivateKey("");
        try {
            GetDepositBalanceVo getDepositBalanceVo = new GetDepositBalanceVo.Builder(baseInfoVo)
                    .setUserName("")
                    .setDepositNumber("")
                    .setSignatureInfo(signatureInfo)
                    .build();
            podBanking.getDepositBalance(getDepositBalanceVo, new OnGetResponseListener<GetDepositBalanceSrv>() {
                @Override
                public void onResponse(ResultVo<GetDepositBalanceSrv> result) {

                    System.out.println(result.getResult().getResult().getData().getAmounts());

                }

                @Override
                public void onFailed(PodException e) {
                    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
                }
            });
        } catch (PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }

```

# [PHP](#tab/php)

``` php
$param =
        [
        ## ============== Required Parameters  ====================
            'UserName' => '{Put User Name}',
            "DepositNumber" => '{Put Deposit Number}',
//            'Sheba' => '{Put Sheba Number}',
        ## ============== Optional Parameters  ====================
            'privateKey' => $privateKey,
            'scVoucherHash' => ['{Put Service Call Voucher Hashes}'],
            'scApiKey' => '{Put Service Call Api Key}',
    ];
    try {
        $result = $BankingService->getDepositBalance($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```

# [Nodejs](#tab/nodejs)

``` javascript
let getDepositBalanceData = {
      // ------ REQUIRED ------
      UserName: 'USERNAME',
      scApiKey: 'API KEY',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      DepositNumber: 'DEPOSIT NUMBER',
      // Sheba: sheba,

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      privateKey: privateKey
      // privateKeyAddress: privateKeyAddress

      // ------ OPTIONAL ------
      // scVoucherHash: ['HASH#1', 'HASH#2']

      // ------ OPTIONAL (JUST CHANGE THE CURRENT REQUEST) ------
      // token: 'TOKEN'
      // tokenIssuer: 0 | 1
    };
    podBanking.getDepositBalance(getDepositBalanceData)
      .then(function (result) {
        console.log(JSON.stringify(result, null, 2));
      })
      .catch(function (error) {
        console.log(JSON.stringify(error, null, 2));
      });

```

<div class="tab-end">
</div>

<div class="box-end">
</div>

## انتقال وجه داخلی
با استفاده از این سرویس می توانید عملیات انتقال وجه داخلی بانک پاسارگاد را انجام دهید.


**ورودی:**

| نام فیلد |       نوع       |       عنوان                           |توضیحات  | اجباری؟  |
| --------- | -----------------  |-----------------  |-----------------  |-----------------  |
|    UserName     |    string  |   نام کاربری	   |   نام کاربری از طریق بانک در اختیار شما قرار می گیرد   |    *    |
|    Amount     |    number  |   	مبلغ			   |      |   *    |
|CentralBankTransferDetailType|string|بابت|(عددی بین 1 تا 19) علت انتقال وجه|* |
|    PaymentId     |    string  |     		   |     |       |
|    SourceDepositNumber     |    string  |     شماره سپرده مبدا		   |  یکی از موارد SourceDepositNumber  یا SourceSheba اجباری است   |       |
|    SourceSheba     |    string  |     	شماره شبا مبدا		   |   یکی از موارد SourceDepositNumber  یا SourceSheba اجباری است  |       |
|    DestDepositNumber     |    string  |     	شماره سپرده مقصد		   |   یکی از موارد DestDepositNumber  یا DestSheba اجباری است  |       |
|    DestSheba     |    string  |     	شماره شبا مقصد 		   |  یکی از موارد DestDepositNumber  یا DestSheba اجباری است   |       |
|    DestFirstName     |    string  |     نام فرد مقصد		   |     |       |
|    DestLastName     |    string  |     	نام خانوادگی فرد مقصد	   |     |       |
|    SourceComment     |    string  |     		شرح مبدا   |     |       |
|    DestComment     |    string  |     		شرح مقصد   |     |       |
|    privateKey     |    string  |   کلید خصوصی   |    در صورتی که این فیلد فرستاده شود مقدار کلید خصوصی داده شده، تنها در درخواست فعلی   جایگزین کلید داده شده در سازنده خواهد شد. <br/>رشته pem کلید خصوصی و یا مسیر فایل pem کلید خصوصی را در این پارامتر میتوان ارسال   کرد   |        |
|     scVoucherHash    |        Array<string>                 |  کدهای تخفیف	                     |                       |        |
|     scApiKey    |               string         |              API KEY سرویس کال	         |                       |    *    |
|     token    |                  string        |             	توکن احراز هویت          |           در صورتی که این فیلد داده شده باشد مقدار توکن داده شده، تنها در درخواست فعلی، جایگزین توکن داده شده در سازنده خواهد شد           |        |

**خروجی:**

آرایه


**نمونه خروجی:**

```javascript
[
  "hasError" => false,
  "messageId" => 0,
  "referenceNumber" => "799481394",
  "errorCode" => 0,
  "count" => 0,
  "ott" => "8da1f90fbb4e23a8",
  "result" => [
    "result" => [
      "IsSuccess" => true,
      "Message" => null,
      "Data" => "615593917",
      "MessageCode" => 0
    ],
    "header" => [
      "Transfer-Encoding" => "chunked",
      "Keep-Alive" => "timeout=65",
      "AR-PoweredBy" => "Arvan Cloud (arvancloud.com)",
      "AR-ATIME" => "1.769",
      "Server" => "ArvanCloud",
      "X-Content-Type-Options" => "nosniff",
      "Connection" => "keep-alive",
      "Date" => "Wed, 18 Dec 2019 11 =>50 =>38 GMT",
      "X-Frame-Options" => "SAMEORIGIN",
      "ar-sid" => "2081",
      "Strict-Transport-Security" => "max-age=31536000; includeSubDomains",
      "AR-Request-ID" => "488c0d6219e993ae6178819aa448661c",
      "Cache-Control" => "private, max-age=0",
      "Vary" => "Accept-Encoding",
      "Content-Type" => "text/xml; charset=utf-8"
    ],
    "statusCode" => 200
  ]
]
```

**سرویس‌ها:**

<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<ServiceCallResultSrv<BankingSrv<string>>>();
var getDepositInvoiceVo = TransferMoneyVo.ConcreteBuilder
                    .SetServiceCallParameters(internalServiceCallVo)
                    .SetUserName("{Put your UserName}")
                    .SetPrivateKey("{Put your XML PrivateKey}")
                    .SetPaymentId("{Put your PaymentId}")
                    .SetAmount(Put your Amount)
                    .SetSourceDepositNumber("{Put your SourceDepositNumber}")
                    .SetDestDepositNumber("{Put your DestDepositNumber}")
                    //.SetSourceSheba("{Put your SourceSheba}")
                    //.SetDestSheba("Put your DestSheba")             
                    //.SetSourceComment("{Put your SourceComment}")
                    //.SetDestComment("{Put your DestCommen}")
                    //.SetDestFirstName("{Put your DestFirstName}")
                    //.SetDestLastName("{Put your DestLastName}")
                    .Build();
BankingService.TransferMoney(getDepositInvoiceVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```

# [Java](#tab/java)

``` java
  BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                .setServerType(Enum_Server_type.PRODUCTION)
                .setScApiKey(API_KEY)
//                .setScVoucherHash(scVoucherHashs)
                .build();

        PodBanking podBanking = new PodBanking();
        SignatureInfo signatureInfo = new SignatureInfo();
        signatureInfo.setPrivateKey("");
        try {
            TransferMoneyVo transferMoneyVo = new TransferMoneyVo.Builder(baseInfoVo)
                    .setUserName("")
//                    .setSourceSheba("")
//                    .setDestSheba("")
                    .setSourceDepositNumber("")
                    .setDestDepositNumber("")
//                    .setDestFirstName("")
//                    .setDestLastName("")
                    .setAmount("")
                    .setPaymentId("")
//                    .setDestDepositNumber("")
//                    .setSourceDepositNumber("")
                    .setSignature(signatureInfo)
                    .build();
            podBanking.transferMoney(transferMoneyVo, new OnGetResponseListener<TransferMoneySrv>() {
                @Override
                public void onResponse(ResultVo<TransferMoneySrv> result) {

                    System.out.println(result.getResult().getResult().getData());

                }

                @Override
                public void onFailed(PodException e) {
                    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
                }
            });
        } catch (PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }

```

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============== Required Parameters  ====================
            'UserName' => '{Put User Name}',
            'SourceSheba'   =>  '{Put Source Sheba Number}',
            'SourceDepositNumber' => '{Put Source Deposit Number}',
            'DestDepositNumber' =>  '{Put Source Deposit Number}',
            'DestSheba' =>  '{Put Destination Sheba Number}',
            'Amount' => {Put Amount},
        ## ============== Optional Parameters  ====================
            'DestFirstName' => '{Put Destination First Name}',
            'DestLastName' => '{Put Destination Last Name}',
            'SourceComment' => '{Put Source Comment}',
            'DestComment' => '{Put Destination Comment}',
            'PaymentId' => '{Put Payment Id}',
            'privateKey' => $privateKey,
            'scVoucherHash' => ['{Put Service Call Voucher Hashes}'],
            'scApiKey' => '{Put Service Call Api Key}',
    ];
    try {
        $result = $BankingService->transferMoney($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```

# [Nodejs](#tab/nodejs)

``` javascript
transferMoneyData = {
      // ------ REQUIRED ------
      UserName: 'USERNAME',
      Amount: 0,
      PaymentId: '00000',
      scApiKey: 'API KEY',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      SourceDepositNumber: depositNumber,
      // SourceSheba: 'SourceSheba',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      DestDepositNumber: 'DEPOSITE NUMBER',
      // DestSheba: 'DestSheba',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      privateKey: 'PRIVATE KEY',
      // privateKeyAddress: '.PEM ADDRESS FILE'

      // ------ OPTIONAL ------
      DestFirstName: 'سلام',
      DestLastName: 'سلام بر تو',
      SourceComment: 'سلام',
      DestComment: 'سلام بر تو'
      // scVoucherHash: ['HASH#1', 'HASH#2']

      // ------ OPTIONAL (JUST CHANGE THE CURRENT REQUEST) ------
      // token: 'TOKEN'
      // tokenIssuer: 0 | 1
    };
    podBanking.transferMoney(transferMoneyData)
      .then(function (result) {
        console.log(JSON.stringify(result, null, 2));
      })
      .catch(function (error) {
        console.log(JSON.stringify(error, null, 2));
      });

```

<div class="tab-end">
</div>


<div class="box-end">
</div>

## دریافت وضعیت انتقال وجه

با استفاده از این سرویس می توانید وضعیت انتقال وجه داخلی خود را دریافت کنید.


**ورودی:**

| نام فیلد |       نوع       |       عنوان                           |توضیحات  | اجباری؟  |
| --------- | -----------------  |-----------------  |-----------------  |-----------------  |
|    UserName     |    string  |   نام کاربری	   |   نام کاربری از طریق بانک در اختیار شما قرار می گیرد   |    *    |
|    PaymentId     |    string  |   	   |      |        |
|    SourceDepositNumber     |    string  |   	شماره سپرده مبدا   |    یکی از موارد SourceDepositNumber  یا SourceSheba اجباری است  |        |
|    SourceSheba     |    string  |   شماره شبا مبدا	   |   یکی از موارد SourceDepositNumber  یا SourceSheba اجباری است   |        |
|    DestDepositNumber     |    string  |   	شماره سپرده مقصد	   |    یکی از موارد DestDepositNumber  یا DestSheba اجباری است  |        |
|    DestSheba     |    string  |   	شماره شبا مقصد 	   |   یکی از موارد DestDepositNumber  یا DestSheba اجباری است   |        |
|    DestFirstName     |    string  |   	نام فرد مقصد	   |      |        |
|    DestLastName     |    string  |   	 نام خانوادگی فرد مقصد  |      |        |
|    SourceComment     |    string  |   شرح مبدا	   |      |        |
|    DestComment     |    string  |   شرح مقصد	   |      |        |
|    privateKey     |    string  |   کلید خصوصی   |    در صورتی که این فیلد فرستاده شود مقدار کلید خصوصی داده شده، تنها در درخواست فعلی   جایگزین کلید داده شده در سازنده خواهد شد. <br/>رشته pem کلید خصوصی و یا مسیر فایل pem کلید خصوصی را در این پارامتر میتوان ارسال   کرد   |        |
|     scVoucherHash    |        Array<string>                 |  کدهای تخفیف	                     |                       |        |
|     scApiKey    |               string         |              API KEY سرویس کال	         |                       |    *    |
|     token    |                  string        |             	توکن احراز هویت          |           در صورتی که این فیلد داده شده باشد مقدار توکن داده شده، تنها در درخواست فعلی، جایگزین توکن داده شده در سازنده خواهد شد           |        |

**خروجی:**

آرایه

**نمونه خروجی:**

```javascript
[
  "hasError" => false,
  "messageId" => 0,
  "referenceNumber" => "799506200",
  "errorCode" => 0,
  "count" => 0,
  "ott" => "533f2507c35293a9",
  "result" => [
    "result" => [
      "IsSuccess" => true,
      "Message" => "",
      "Data" => [
        "RefrenceNumber" => "9809270572455332",
        "Key" => "registered",
        "Value" => "ارسالی -  ثبت شده"
      ],
      "MessageCode" => 0
    ],
    "header" => [
      "Transfer-Encoding" => "chunked",
      "Keep-Alive" => "timeout=65",
      "AR-PoweredBy" => "Arvan Cloud (arvancloud.com)",
      "AR-ATIME" => "0.749",
      "Server" => "ArvanCloud",
      "X-Content-Type-Options" => "nosniff",
      "Connection" => "keep-alive",
      "Date" => "Wed, 18 Dec 2019 12 =>16 =>56 GMT",
      "X-Frame-Options" => "SAMEORIGIN",
      "ar-sid" => "2081",
      "Strict-Transport-Security" => "max-age=31536000; includeSubDomains",
      "AR-Request-ID" => "459d71f8de45f36cde4f0669e197b890",
      "Cache-Control" => "private, max-age=0",
      "Vary" => "Accept-Encoding",
      "Content-Type" => "text/xml; charset=utf-8"
    ],
    "statusCode" => 200
  ]
]
```

**سرویس‌ها:**

<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<ServiceCallResultSrv<BankingSrv<GetTransferMoneyStateSrv>>>();
var getTransferStateVo= GetTransferStateVo.ConcreteBuilder
                    .SetServiceCallParameters(internalServiceCallVo)
                    .SetUserName("{Put your UserName}")
                    .SetPrivateKey("{Put your XML PrivateKey}")
                    .SetPaymentId("{Put your PaymentId}")
                    .SetDate({Put your Date})
                    .Build();
BankingService.GetTransferState(getTransferStateVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```

# [Java](#tab/java)

``` java
 BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                .setServerType(Enum_Server_type.PRODUCTION)
                .setScApiKey(API_KEY)
//                .setScVoucherHash(scVoucherHashs)
                .build();

        PodBanking podBanking = new PodBanking();
        SignatureInfo signatureInfo = new SignatureInfo();
        signatureInfo.setPrivateKey("");
        try {
            GetTranfserStateVo getTranfserStateVo = new GetTranfserStateVo.Builder(baseInfoVo)
                    .setUserName("")
                    .setDate("")
                    .setSignature(signatureInfo)
                    .build();
            podBanking.getTransferState(getTranfserStateVo, new OnGetResponseListener<GetTranfserStateSrv>() {
                @Override
                public void onResponse(ResultVo<GetTranfserStateSrv> result) {

                    System.out.println(result.getResult().getResult().getMessage());

                }

                @Override
                public void onFailed(PodException e) {
                    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
                }
            });
        } catch (PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }

```

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============== Required Parameters  ====================
            'UserName' => '',
            'Date' => '',
            'PaymentId' => '',
            'privateKey' => $privateKey,
            'scVoucherHash' => ['{Put Service Call Voucher Hashes}'],
            'scApiKey' => '{Put Service Call Api Key}',
    ];
    try {
        $result = $BankingService->getTransferState($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```

# [Nodejs](#tab/nodejs)

``` javascript
let getTransferStateData = {
      // ------ REQUIRED ------
      UserName: 'USERNAME',
      Date: new Date(),
      PaymentId: '000000',
      scApiKey: 'API TOKEN',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      privateKey: 'PRIVATE KEY'
      // privateKeyAddress: '.PEM FILE ADDRESS'

      // ------ OPTIONAL ------
      // scVoucherHash: ['HASH#1', 'HASH#2']

      // ------ OPTIONAL (JUST CHANGE THE CURRENT REQUEST) ------
      // token: 'TOKEN'
      // tokenIssuer: 0 | 1
    };
    podBanking.getTransferState(getTransferStateData)
      .then(function (result) {
        console.log(JSON.stringify(result, null, 2));
      })
      .catch(function (error) {
        console.log(JSON.stringify(error, null, 2));
      });

```

<div class="tab-end">
</div>

<div class="box-end">
</div>


## پرداخت قبض از طریق سپرده

با استفاده از این سرویس می توانید قبوض خود را از طریق موجودی سپرده خود انجام دهید


**ورودی:**

| نام فیلد |       نوع       |       عنوان                           |توضیحات  | اجباری؟  |
| --------- | -----------------  |-----------------  |-----------------  |-----------------  |
|    UserName     |    string  |   نام کاربری	   |   نام کاربری از طریق بانک در اختیار شما قرار می گیرد   |    *    |
|    DepositNumber     |    string  |   شماره سپرده	   |      |   *     |
|    BillNumber     |    string  |   شماره قبض	   |      |   *     |
|    PaymentId     |    string  |   شناسه پرداخت	   |      |   *     |
|    privateKey     |    string  |   کلید خصوصی   |    در صورتی که این فیلد فرستاده شود مقدار کلید خصوصی داده شده، تنها در درخواست فعلی   جایگزین کلید داده شده در سازنده خواهد شد. <br/>رشته pem کلید خصوصی و یا مسیر فایل pem کلید خصوصی را در این پارامتر میتوان ارسال   کرد   |        |
|     scVoucherHash    |        Array<string>                 |  کدهای تخفیف	                     |                       |        |
|     scApiKey    |               string         |              API KEY سرویس کال	         |                       |    *    |
|     token    |                  string        |             	توکن احراز هویت          |           در صورتی که این فیلد داده شده باشد مقدار توکن داده شده، تنها در درخواست فعلی، جایگزین توکن داده شده در سازنده خواهد شد           |        |

**خروجی:**

آرایه

**سرویس‌ها:**



<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<ServiceCallResultSrv<BankingSrv<string>>>();
var getDepositInvoiceVo = BillPaymentByDepositVo.ConcreteBuilder
                    .SetServiceCallParameters(internalServiceCallVo)
                    .SetUserName("{Put your UserName}")
                    .SetPrivateKey("{Put your XML PrivateKey}")
                    .SetBillNumber("{Put your BillNumber}")
                    .SetDepositNumber("{Put your DepositNumber}")
                    .SetPaymentId("{Put your PaymentId}")
                    .Build();
BankingService.BillPaymentByDeposit(getDepositInvoiceVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```

# [Java](#tab/java)

``` java
  BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                .setServerType(Enum_Server_type.PRODUCTION)
                .setScApiKey(API_KEY)
//                .setScVoucherHash(scVoucherHashs)
                .build();

        PodBanking podBanking = new PodBanking();
        SignatureInfo signatureInfo = new SignatureInfo();
        signatureInfo.setPrivateKey("");
        try {
            BillPaymentByDepositVo billPaymentByDepositVo = new BillPaymentByDepositVo.Builder(baseInfoVo)
                    .setUserName("")
                    .setPaymentId("")
                    .setDepositNumber("")
                    .setBillNumber("")
                    .setSignature(signatureInfo)
                    .build();
            podBanking.billPaymentByDeposit(billPaymentByDepositVo, new OnGetResponseListener<BillPaymentByDepositSrv>() {
                @Override
                public void onResponse(ResultVo<BillPaymentByDepositSrv> result) {

                    System.out.println(result.getResult().getResult().getIsSuccess());

                }

                @Override
                public void onFailed(PodException e) {
                    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
                }
            });
        } catch (PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }

```

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============== Required Parameters  ====================
            'UserName' => '',
            'DepositNumber' => '',
            'PaymentId' => '',
            'BillNumber' => '',
            ## ============== Optional Parameters  ====================
            'privateKey' => $privateKey,
            'scVoucherHash' => ['{Put Service Call Voucher Hashes}'],
            'scApiKey' => '{Put Service Call Api Key}',
    ];
    try {
        $result = $BankingService->billPaymentByDeposit($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```

# [Nodejs](#tab/nodejs)

``` javascript
    billPaymentByDepositData = {
      // ------ REQUIRED ------
      UserName: 'USERNAME',
      DepositNumber: 'DEPOSITE',
      BillNumber: '00000',
      PaymentId: '00000',
      scApiKey: 'API KEY',

      // ------ REQUIRED (ONLY ONE OF THESE) ------
      privateKey: 'PRIVATE KEY'
      // privateKeyAddress: '.PEM FILE ADDRESS'

      // ------ OPTIONAL ------
      // scVoucherHash: ['HASH#1', 'HASH#2']

      // ------ OPTIONAL (JUST CHANGE THE CURRENT REQUEST) ------
      // token: 'TOKEN'
      // tokenIssuer: 0 | 1
    };
    podBanking.billPaymentByDeposit(billPaymentByDepositData)
      .then(function (result) {
        console.log(JSON.stringify(result, null, 2));
      })
      .catch(function (error) {
        console.log(JSON.stringify(error, null, 2));
      });

```

<div class="tab-end">
</div>

<div class="box-end">
</div>

## لینک‌های مرتبط

- [مقدمه](/documents/introduction/)
- [مفاهیم](/documents/concepts/)
- [استاندارد و خطاها](/documents/errors/)
- [شروع به کار](/documents/get-started/)
- [پکیج‌ها](/documents/packages/)

<div class="box-end">
</div>
